<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Project Natures</title>
<style>@import url("../../book.css");</style>
<style>@import url("../../schema.css");</style>
</HEAD>
<BODY>
<H1><CENTER>Project Natures</CENTER></H1>
<p></p>
<h6 class=CaptionFigColumn id=header>Identifier: </h6>org.eclipse.core.resources.natures<p></p>
<p>
<h6 class=CaptionFigColumn id=header>Description: </h6>The workspace supports the notion of project natures 
(or "natures" for short").  A nature associates lifecycle 
behaviour with a project.  Natures are installed on 
a per-project basis using the setDescription method defined on 
<samp>org.eclipes.core.resources.IProject</samp>.  They are 
configured automatically when a project is opened and deconfigured 
when a project is closed.  For example, the Java nature 
might install a Java builder and do other project 
configuration when added to a project
<p>
The natures extension-point allows nature writers 
to register their nature implementation under a 
symbolic name that is then used from within the 
workspace to find and configure natures. 
The symbolic name is id of the nature extension.  When 
defining a nature extension, users are encouraged to include a
human-readable value fo rth e"name" attribute which identifies
their meaning and potentially may be presented to users.
<p>
Natures can specify relationship constraints with other natures.
The "one-of-nature" constraint specifies that at most one nature
belong to a given set can exist on a project at any given time.
This enforces mutual exclusion between natures that are not compatible
with each other.  The "requires-nature" constraint specifies a
dependency on another nature.  When a nature is added to a project,
all required natures must also be added.  The natures are guaranteed
to be configured and deconfigured in such a way that their required
natures will always be configured before them and deconfigured after
them.  For this reason, cyclic dependencies between natures are not
permitted.
<p>
Natures cannot be added to or removed from a project if that change would
violate any constraints that were previously satisfied.  If a nature is
configured on a project, but later finds that its constraints are not 
satisfied, that nature and all natures that require it are marked as
<i>disabled</i>, but remain on the project.  This can happen, for example,
when a required nature goes missing from the install.  Natures that are 
missing from the install, and natures involved in dependency cycles are 
also marked as disabled.
<p>
Natures can also specify which incremental project builders, if any, are 
configured by them.  With this information, the workspace will ensure that 
builders will only run when their corresponding nature is present and 
enabled on the project being built.  If a nature is removed from a project,
but the nature's deconfigure method fails to remove its corresponding builders,
the workspace will remove those builders from the spec automatically.  It 
is not permitted for two natures to specify the same incremental project builder
in their markup.
<p>
Natures also have the ability to disallow the creation of linked resources on projects they are associated with.  By setting the <code>allowLinking</code> attribute to &quot;false&quot;, a nature can declare that linked resources should never be created.  This feature is new in release 2.1.</p>
<p><h6 class=CaptionFigColumn id=header>Configuration Markup:</h6></p>
<p class=code id=dtd>&lt;!ELEMENT <a name="e.extension">extension</a> (<a href="#e.runtime">runtime</a> , (<a href="#e.one-of-nature">one-of-nature</a> | <a href="#e.requires-nature">requires-nature</a> | <a href="#e.builder">builder</a>)* , <a href="#e.options">options</a>?)&gt;</p>
<p class=code id=dtd>&lt;!ATTLIST extension</p>
<p class=code id=dtdAttlist>point&nbsp;CDATA #REQUIRED<p class=code id=dtdAttlist>id&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED<p class=code id=dtdAttlist>name&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<ul class=ConfigMarkup id=attlistDesc>
<li><b>point</b> - a fully qualified identifier of the target extension point</li>
<li><b>id</b> - an optional identifier of the extension instance</li>
<li><b>name</b> - an optional name of the extension instance</li>
</ul>
<br><p class=code id=dtd>&lt;!ELEMENT <a name="e.runtime">runtime</a> (<a href="#e.run">run</a>)&gt;</p>
<p></p>
<br><br>
<p class=code id=dtd>&lt;!ELEMENT <a name="e.run">run</a> (<a href="#e.parameter">parameter</a>*)&gt;</p>
<p class=code id=dtd>&lt;!ATTLIST run</p>
<p class=code id=dtdAttlist>class&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<ul class=ConfigMarkup id=attlistDesc>
<li><b>class</b> - the fully-qualified name of a class which implements 
<samp>org.eclipse.core.resources.IProjectNature</samp></li>
</ul>
<br><p class=code id=dtd>&lt;!ELEMENT <a name="e.parameter">parameter</a> EMPTY&gt;</p>
<p class=code id=dtd>&lt;!ATTLIST parameter</p>
<p class=code id=dtdAttlist>name&nbsp;&nbsp;CDATA #REQUIRED<p class=code id=dtdAttlist>value&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<ul class=ConfigMarkup id=attlistDesc>
<li><b>name</b> - the name of this parameter made available to instances of the specified nature class</li>
<li><b>value</b> - an arbitrary value associated with the given name and made available to instances of the specificed nature class</li>
</ul>
<br><p class=code id=dtd>&lt;!ELEMENT <a name="e.one-of-nature">one-of-nature</a> EMPTY&gt;</p>
<p class=code id=dtd>&lt;!ATTLIST one-of-nature</p>
<p class=code id=dtdAttlist>id&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<ul class=ConfigMarkup id=attlistDesc>
<li><b>id</b> - the name of an exclusive project nature category.</li>
</ul>
<br><p class=code id=dtd>&lt;!ELEMENT <a name="e.requires-nature">requires-nature</a> EMPTY&gt;</p>
<p class=code id=dtd>&lt;!ATTLIST requires-nature</p>
<p class=code id=dtdAttlist>id&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<ul class=ConfigMarkup id=attlistDesc>
<li><b>id</b> - the fully-qualified id of another nature extension that this nature extension requires.</li>
</ul>
<br><p class=code id=dtd>&lt;!ELEMENT <a name="e.builder">builder</a> EMPTY&gt;</p>
<p class=code id=dtd>&lt;!ATTLIST builder</p>
<p class=code id=dtdAttlist>id&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<ul class=ConfigMarkup id=attlistDesc>
<li><b>id</b> - the fully-qualified id of an incremental project builder extension that this nature controls.</li>
</ul>
<br><p class=code id=dtd>&lt;!ELEMENT <a name="e.options">options</a> EMPTY&gt;</p>
<p class=code id=dtd>&lt;!ATTLIST options</p>
<p class=code id=dtdAttlist>allowLinking&nbsp;(true | false) &gt;</p>
<p></p>
<ul class=ConfigMarkup id=attlistDesc>
<li><b>allowLinking</b> - an option to specify whether this nature allows the creation of linked resources.  By default, linking is allowed.</li>
</ul>
<br><p class=code id=dtd>&lt;!ELEMENT <a name="e.extension">extension</a> (<a href="#e.runtime">runtime</a> , (<a href="#e.one-of-nature">one-of-nature</a> | <a href="#e.requires-nature">requires-nature</a> | <a href="#e.builder">builder</a>)* , <a href="#e.options">options</a>?)&gt;</p>
<p class=code id=dtd>&lt;!ATTLIST extension</p>
<p class=code id=dtdAttlist>point&nbsp;CDATA #REQUIRED<p class=code id=dtdAttlist>id&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED<p class=code id=dtdAttlist>name&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<ul class=ConfigMarkup id=attlistDesc>
<li><b>point</b> - a fully qualified identifier of the target extension point</li>
<li><b>id</b> - an optional identifier of the extension instance</li>
<li><b>name</b> - an optional name of the extension instance</li>
</ul>
<br><p class=code id=dtd>&lt;!ELEMENT <a name="e.runtime">runtime</a> (<a href="#e.run">run</a>)&gt;</p>
<p></p>
<br><br>
<p class=code id=dtd>&lt;!ELEMENT <a name="e.run">run</a> (<a href="#e.parameter">parameter</a>*)&gt;</p>
<p class=code id=dtd>&lt;!ATTLIST run</p>
<p class=code id=dtdAttlist>class&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<ul class=ConfigMarkup id=attlistDesc>
<li><b>class</b> - the fully-qualified name of a class which implements 
<samp>org.eclipse.core.resources.IProjectNature</samp></li>
</ul>
<br><p class=code id=dtd>&lt;!ELEMENT <a name="e.parameter">parameter</a> EMPTY&gt;</p>
<p class=code id=dtd>&lt;!ATTLIST parameter</p>
<p class=code id=dtdAttlist>name&nbsp;&nbsp;CDATA #REQUIRED<p class=code id=dtdAttlist>value&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<ul class=ConfigMarkup id=attlistDesc>
<li><b>name</b> - the name of this parameter made available to instances of the specified nature class</li>
<li><b>value</b> - an arbitrary value associated with the given name and made available to instances of the specificed nature class</li>
</ul>
<br><p class=code id=dtd>&lt;!ELEMENT <a name="e.one-of-nature">one-of-nature</a> EMPTY&gt;</p>
<p class=code id=dtd>&lt;!ATTLIST one-of-nature</p>
<p class=code id=dtdAttlist>id&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<ul class=ConfigMarkup id=attlistDesc>
<li><b>id</b> - the name of an exclusive project nature category.</li>
</ul>
<br><p class=code id=dtd>&lt;!ELEMENT <a name="e.requires-nature">requires-nature</a> EMPTY&gt;</p>
<p class=code id=dtd>&lt;!ATTLIST requires-nature</p>
<p class=code id=dtdAttlist>id&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<ul class=ConfigMarkup id=attlistDesc>
<li><b>id</b> - the fully-qualified id of another nature extension that this nature extension requires.</li>
</ul>
<br><p class=code id=dtd>&lt;!ELEMENT <a name="e.builder">builder</a> EMPTY&gt;</p>
<p class=code id=dtd>&lt;!ATTLIST builder</p>
<p class=code id=dtdAttlist>id&nbsp;CDATA #REQUIRED&gt;</p>
<p></p>
<ul class=ConfigMarkup id=attlistDesc>
<li><b>id</b> - the fully-qualified id of an incremental project builder extension that this nature controls.</li>
</ul>
<br><p class=code id=dtd>&lt;!ELEMENT <a name="e.options">options</a> EMPTY&gt;</p>
<p class=code id=dtd>&lt;!ATTLIST options</p>
<p class=code id=dtdAttlist>allowLinking&nbsp;(true | false) &gt;</p>
<p></p>
<ul class=ConfigMarkup id=attlistDesc>
<li><b>allowLinking</b> - an option to specify whether this nature allows the creation of linked resources.  By default, linking is allowed.</li>
</ul>
<br><h6 class=CaptionFigColumn id=header>Examples: </h6>Following is an example of three nature configurations.  The
waterNature and fireNature belong
to the same exclusive set, so they cannot co-exist on the same
project.  The snowNature requires
waterNature, so snowNature will be disabled on a project that
is missing waterNature.  It 
naturally follows that snowNature cannot be enabled on a project
with fireNature.  The fireNature also doesn't allow the creation of linked resources.

<p>
<pre> 
   <p class=code id=tag>&lt;extension id=<p class=code id=cstring>&quot;fireNature&quot;</p><p class=code id=tag> name=<p class=code id=cstring>&quot;Fire Nature&quot;</p><p class=code id=tag> point=<p class=code id=cstring>&quot;org.eclipse.core.resources.natures&quot;</p><p class=code id=tag>&gt;</p> 
       <p class=code id=tag>&lt;runtime&gt;</p>
           <p class=code id=tag>&lt;run class=<p class=code id=cstring>&quot;com.xyz.natures.Fire&quot;</p><p class=code id=tag>/&gt;</p> 
       <p class=code id=tag>&lt;/runtime&gt;</p> 
       <p class=code id=tag>&lt;one-of-nature id=<p class=code id=cstring>&quot;com.xyz.stateSet&quot;</p><p class=code id=tag>/&gt;</p>
       <p class=code id=tag>&lt;options allowLinking=<p class=code id=cstring>&quot;false&quot;</p><p class=code id=tag>/&gt;</p>
   <p class=code id=tag>&lt;/extension&gt;</p>
   
   <p class=code id=tag>&lt;extension id=<p class=code id=cstring>&quot;waterNature&quot;</p><p class=code id=tag> name=<p class=code id=cstring>&quot;Water Nature&quot;</p><p class=code id=tag> point=<p class=code id=cstring>&quot;org.eclipse.core.resources.natures&quot;</p><p class=code id=tag>&gt;</p>
       <p class=code id=tag>&lt;runtime&gt;</p>
           <p class=code id=tag>&lt;run class=<p class=code id=cstring>&quot;com.xyz.natures.Water&quot;</p><p class=code id=tag>/&gt;</p>
       <p class=code id=tag>&lt;/runtime&gt;</p>
       <p class=code id=tag>&lt;one-of-nature id=<p class=code id=cstring>&quot;com.xyz.stateSet&quot;</p><p class=code id=tag>/&gt;</p>
   <p class=code id=tag>&lt;/extension&gt;</p>
   
   <p class=code id=tag>&lt;extension id=<p class=code id=cstring>&quot;snowNature&quot;</p><p class=code id=tag> name=<p class=code id=cstring>&quot;Snow Nature&quot;</p><p class=code id=tag> point=<p class=code id=cstring>&quot;org.eclipse.core.resources.natures&quot;</p><p class=code id=tag>&gt;</p>
       <p class=code id=tag>&lt;runtime&gt;</p>
           <p class=code id=tag>&lt;run class=<p class=code id=cstring>&quot;com.xyz.natures.Snow&quot;</p><p class=code id=tag>&gt;</p>
               <p class=code id=tag>&lt;parameter name=<p class=code id=cstring>&quot;installBuilder&quot;</p><p class=code id=tag> value=<p class=code id=cstring>&quot;true&quot;</p><p class=code id=tag>/&gt;</p>
           <p class=code id=tag>&lt;/run&gt;</p>
       <p class=code id=tag>&lt;/runtime&gt;</p>
       <p class=code id=tag>&lt;requires-nature id=<p class=code id=cstring>&quot;com.xyz.coolplugin.waterNature&quot;</p><p class=code id=tag>/&gt;</p>
       <p class=code id=tag>&lt;builder id=<p class=code id=cstring>&quot;com.xyz.snowMaker&quot;</p><p class=code id=tag>/&gt;</p>
   <p class=code id=tag>&lt;/extension&gt;</p>
</pre>
</p>

If these extensions were defined in a plug-in with id "com.xyz.coolplugin", the fully qualified name 
of these natures would be "com.xyz.coolplugin.fireNature", "com.xyz.coolplugin.waterNature" and 
"com.xyz.coolplugin.snowNature".
<p></p>

<h6 class=CaptionFigColumn id=header>API Information: </h6>The value of the class attribute must represent an 
implementor of 
<samp>org.eclipse.core.resources.IProjectNature</samp>.
Nature definitions can be examined using the
<samp>org.eclipse.core.resources.IProjectNatureDescriptor</samp> interface.
The descriptor objects can be obtained using the methods 
<samp>getNatureDescriptor(String)</samp> and <samp>getNatureDescriptors()</samp>
on <samp>org.eclipse.core.resources.IWorkspace</samp>.
<p></p>

<h6 class=CaptionFigColumn id=header>Supplied Implementation: </h6>The platform itself does not have any predefined natures. 
Particular product installs may include natures as required.
<p></p>

<br>
<p class=note id=copyright>
Copyright (c) 2002, 2004 IBM Corporation and others.<br>
All rights reserved. This program and the accompanying materials are made 
available under the terms of the Common Public License v1.0 which 
accompanies 
this distribution, and is available at 
<a 
href="http://www.eclipse.org/legal/cpl-v10.html">http://www.eclipse.org/legal/cpl-v10.html</a>
<p></p>

</p>
</BODY>
</HTML>
