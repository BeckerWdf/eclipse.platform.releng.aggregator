<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD><meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1">
<title>Internal and External Editors</title>
<style>@import url("../../book.css");</style>
<style>@import url("../../schema.css");</style>
</HEAD>
<BODY>
<H1><CENTER>Internal and External Editors</CENTER></H1>
<p></p>
<h6 class=CaptionFigColumn id=header>Identifier: </h6>org.eclipse.ui.editors<p></p>
<p>
<h6 class=CaptionFigColumn id=header>Description: </h6>This extension point is used to add new editors to the 
workbench.  A editor is a visual component within a 
workbench page. It is typically used to edit or browse 
a document or input object.  To open an editor, the user 
will typically invoke "Open" on an <samp>IFile</samp>.  
When this action is performed the workbench registry 
is consulted to determine an appropriate editor for 
the file type and then a new instance of the editor 
type is created.  The actual result depends on the 
type of the editor.  The workbench provides support 
for the creation of internal editors, which are tightly 
integrated into the workbench, and external editors, 
which are launched in a separate frame window.  
There are also various level of integration between 
these extremes. 
<p>
In the case of an internal editor tight integration can 
be achieved between the workbench window and the editor 
part.  The workbench menu and toolbar are pre-loaded 
with a number of common actions, such as cut, copy, and 
paste.  The active part, view or editor, is expected to 
provide the implementation for these actions. An internal 
editor may also define new actions which appear in the 
workbench window.  These actions only appear when the 
editor is active. 
<p>
The integration between the workbench and external
editors is more tenuous.  In this case the workbench 
may launch an editor but after has no way of determining
the state of the external editor or collaborating 
with it by any means except through the file system.</p>
<p><h6 class=CaptionFigColumn id=header>Configuration Markup:</h6></p>
<p class=code id=dtd>&lt;!ELEMENT <a name="e.extension">extension</a> (<a href="#e.editor">editor</a>*)&gt;</p>
<p class=code id=dtd>&lt;!ATTLIST extension</p>
<p class=code id=dtdAttlist>point&nbsp;CDATA #REQUIRED<p class=code id=dtdAttlist>id&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED<p class=code id=dtdAttlist>name&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<ul class=ConfigMarkup id=attlistDesc>
<li><b>point</b> - a fully qualified identifier of the target extension point</li>
<li><b>id</b> - an optional identifier of the extension instance</li>
<li><b>name</b> - an optional name of the extension instance</li>
</ul>
<br><p class=code id=dtd>&lt;!ELEMENT <a name="e.editor">editor</a> EMPTY&gt;</p>
<p class=code id=dtd>&lt;!ATTLIST editor</p>
<p class=code id=dtdAttlist>id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED<p class=code id=dtdAttlist>name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED<p class=code id=dtdAttlist>icon&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED<p class=code id=dtdAttlist>extensions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED<p class=code id=dtdAttlist>class&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED<p class=code id=dtdAttlist>command&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED<p class=code id=dtdAttlist>launcher&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED<p class=code id=dtdAttlist>contributorClass&nbsp;CDATA #IMPLIED<p class=code id=dtdAttlist>default&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(true | false) "false"<p class=code id=dtdAttlist>filenames&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED<p class=code id=dtdAttlist>symbolicFontName&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<ul class=ConfigMarkup id=attlistDesc>
<li><b>id</b> - a unique name that will be used to identify this editor</li>
<li><b>name</b> - a translatable name that will be used in the UI for this editor</li>
<li><b>icon</b> - a relative name of the icon that will be used for all resources that match the specified extensions. 
An icon is not required if you specify a command rather than a class. In that case, the workbench 
will use the icon provided by the operating system.</li>
<li><b>extensions</b> - an optional field containing the list of file types understood by the editor.  This is a string containing comma separate file extensions.  For instance, an editor which understands hypertext documents may register for "htm, html".</li>
<li><b>class</b> - the name of a class that implements <samp>org.eclipse.ui.IEditorPart</samp>. The attributes <samp>class</samp>, <samp>command</samp>, and <samp>launcher</samp> are mutually exclusive. If this attribute is defined then <samp>contributorClass</samp> should also be defined.</li>
<li><b>command</b> - a command to run in order to launch an external editor. The executable command must be located on the system path or in the plug-in's directory. The attributes <samp>class</samp>, <samp>command</samp>, and <samp>launcher</samp> are mutually exclusive.</li>
<li><b>launcher</b> - the name of a class which that implements <samp>org.eclipse.ui.IEditorLauncher</samp>. 
A launcher will open an external editor. The attributes <samp>class</samp>, <samp>command</samp>, and <samp>launcher</samp> are mutually exclusive.</li>
<li><b>contributorClass</b> - the name of a class that implements <samp>org.eclipse.ui.IEditorActionBarContributor</samp>. This attribute should only be defined if the <samp>class</samp> attribute is defined. This class is used to add new actions to the workbench menu and tool bar which reflect the features of the editor type.</li>
<li><b>default</b> - if true, this editor will be used as the default editor for the
type. This is only relevant in a case where more than one editor
is registered for the same type. If an editor is not the default
for the type, it can still be launched using "Open with..."
submenu for the selected resource.</li>
<li><b>filenames</b> - an optional field containing the list of file names 
understood by the editor.  This is a string 
containing comma separate file names.  For instance, 
an editor which understands specific hypertext 
documents may register for "ejb.htm, ejb.html".</li>
<li><b>symbolicFontName</b> - the symbolic name of a font. The symbolic font name must be the id of a defined font (see org.eclipse.ui.fontDefinitions). If this attribute is missing or invalid then the font name is the value of "org.eclipse.jface.textfont" in the editor's preferences store. If there is no preference store or the key is not defined then the JFace text font will be used. The editor implementation decides if it uses this symbolic font name to set the font.</li>
</ul>
<br><p class=code id=dtd>&lt;!ELEMENT <a name="e.extension">extension</a> (<a href="#e.editor">editor</a>*)&gt;</p>
<p class=code id=dtd>&lt;!ATTLIST extension</p>
<p class=code id=dtdAttlist>point&nbsp;CDATA #REQUIRED<p class=code id=dtdAttlist>id&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED<p class=code id=dtdAttlist>name&nbsp;&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<ul class=ConfigMarkup id=attlistDesc>
<li><b>point</b> - a fully qualified identifier of the target extension point</li>
<li><b>id</b> - an optional identifier of the extension instance</li>
<li><b>name</b> - an optional name of the extension instance</li>
</ul>
<br><p class=code id=dtd>&lt;!ELEMENT <a name="e.editor">editor</a> EMPTY&gt;</p>
<p class=code id=dtd>&lt;!ATTLIST editor</p>
<p class=code id=dtdAttlist>id&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED<p class=code id=dtdAttlist>name&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #REQUIRED<p class=code id=dtdAttlist>icon&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED<p class=code id=dtdAttlist>extensions&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED<p class=code id=dtdAttlist>class&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED<p class=code id=dtdAttlist>command&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED<p class=code id=dtdAttlist>launcher&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED<p class=code id=dtdAttlist>contributorClass&nbsp;CDATA #IMPLIED<p class=code id=dtdAttlist>default&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(true | false) "false"<p class=code id=dtdAttlist>filenames&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;CDATA #IMPLIED<p class=code id=dtdAttlist>symbolicFontName&nbsp;CDATA #IMPLIED&gt;</p>
<p></p>
<ul class=ConfigMarkup id=attlistDesc>
<li><b>id</b> - a unique name that will be used to identify this editor</li>
<li><b>name</b> - a translatable name that will be used in the UI for this editor</li>
<li><b>icon</b> - a relative name of the icon that will be used for all resources that match the specified extensions. 
An icon is not required if you specify a command rather than a class. In that case, the workbench 
will use the icon provided by the operating system.</li>
<li><b>extensions</b> - an optional field containing the list of file types understood by the editor.  This is a string containing comma separate file extensions.  For instance, an editor which understands hypertext documents may register for "htm, html".</li>
<li><b>class</b> - the name of a class that implements <samp>org.eclipse.ui.IEditorPart</samp>. The attributes <samp>class</samp>, <samp>command</samp>, and <samp>launcher</samp> are mutually exclusive. If this attribute is defined then <samp>contributorClass</samp> should also be defined.</li>
<li><b>command</b> - a command to run in order to launch an external editor. The executable command must be located on the system path or in the plug-in's directory. The attributes <samp>class</samp>, <samp>command</samp>, and <samp>launcher</samp> are mutually exclusive.</li>
<li><b>launcher</b> - the name of a class which that implements <samp>org.eclipse.ui.IEditorLauncher</samp>. 
A launcher will open an external editor. The attributes <samp>class</samp>, <samp>command</samp>, and <samp>launcher</samp> are mutually exclusive.</li>
<li><b>contributorClass</b> - the name of a class that implements <samp>org.eclipse.ui.IEditorActionBarContributor</samp>. This attribute should only be defined if the <samp>class</samp> attribute is defined. This class is used to add new actions to the workbench menu and tool bar which reflect the features of the editor type.</li>
<li><b>default</b> - if true, this editor will be used as the default editor for the
type. This is only relevant in a case where more than one editor
is registered for the same type. If an editor is not the default
for the type, it can still be launched using "Open with..."
submenu for the selected resource.</li>
<li><b>filenames</b> - an optional field containing the list of file names 
understood by the editor.  This is a string 
containing comma separate file names.  For instance, 
an editor which understands specific hypertext 
documents may register for "ejb.htm, ejb.html".</li>
<li><b>symbolicFontName</b> - the symbolic name of a font. The symbolic font name must be the id of a defined font (see org.eclipse.ui.fontDefinitions). If this attribute is missing or invalid then the font name is the value of "org.eclipse.jface.textfont" in the editor's preferences store. If there is no preference store or the key is not defined then the JFace text font will be used. The editor implementation decides if it uses this symbolic font name to set the font.</li>
</ul>
<br><h6 class=CaptionFigColumn id=header>Examples: </h6>The following is an example 
of an internal editor extension definition: 
<p>
<pre>
   <p class=code id=tag>&lt;extension point=<p class=code id=cstring>&quot;org.eclipse.ui.editors&quot;</p><p class=code id=tag>&gt;</p> 
      <p class=code id=tag>&lt;editor 
         id=<p class=code id=cstring>&quot;com.xyz.XMLEditor&quot;</p><p class=code id=tag> 
         name=<p class=code id=cstring>&quot;Fancy XYZ XML editor&quot;</p><p class=code id=tag> 
         icon=<p class=code id=cstring>&quot;./icons/XMLEditor.gif&quot;</p><p class=code id=tag> 
         extensions=<p class=code id=cstring>&quot;xml&quot;</p><p class=code id=tag> 
         class=<p class=code id=cstring>&quot;com.xyz.XMLEditor&quot;</p><p class=code id=tag> 
         contributorClass=<p class=code id=cstring>&quot;com.xyz.XMLEditorContributor&quot;</p><p class=code id=tag> 
         symbolicFontName=<p class=code id=cstring>&quot;org.eclipse.jface.textfont&quot;</p><p class=code id=tag>
         default=<p class=code id=cstring>&quot;false&quot;</p><p class=code id=tag>&gt;</p> 
      <p class=code id=tag>&lt;/editor&gt;</p> 
   <p class=code id=tag>&lt;/extension&gt;</p> 
</pre>
</p>
<p></p>

<h6 class=CaptionFigColumn id=header>API Information: </h6>If the command attribute is used, it will be treated 
as an external program command line that will be executed
 in a platform-dependent manner. 
<p>
If the launcher attribute is used the editor will also 
be treated as an external program.  In this case the 
specified class must implement 
<samp>org.eclipse.ui.IEditorLauncher</samp>. 
The launcher will be instantiated and then 
<samp>open(IFile file)</samp> will be invoked to 
launch the editor. 
<p>
If the class attribute is used, the workbench will 
assume that it is an internal editor and the specified 
class must implement <samp>org.eclipse.ui.IEditorPart</samp>.
It is common practice to 
<samp>subclass org.eclipse.ui.EditorPart</samp> when 
defining a new editor type.  It is also necessary to 
define a <samp>contributorClass</samp> attribute.  
The specified class must implement 
<samp>org.eclipse.ui.IEditorActionBarContributor</samp>, 
and is used to add new actions to the workbench 
menu and tool bar which reflect the features of the 
editor type. 
<p>
Within the workbench there may be more than one open 
editor of a particular type.  For instance, there may 
be one or more open Java Editors.  To avoid the creation
of duplicate actions and action images the editor 
concept has been split into two.  An 
<samp>IEditorActionBarContributor</samp> is responsible
for the creation of actions.  The editor is responsible 
for action implementation.  Furthermore, the contributor 
is shared by each open editor.  As a result of this 
design there is only one set of actions for one or 
more open editors. 
<p>
The contributor will add new actions to the workbench 
menu and toolbar which reflect the editor type.  These 
actions are shared and, when invoked, act upon the 
active editor.  The active editor is passed to the 
contributor by invoking 
<samp>IEditorActionBarContributor.setActiveEditor</samp>.  
The identifiers for actions and major groups within 
the workbench window are defined in 
<samp>org.eclipse.ui.IWorkbenchActionConstants</samp>.  
These should be used as a reference point for the 
addition of new actions.   Top level menus are created 
by using the following values for the path attribute: 
<ul>
<li>
additions - represents a group to the left of the Window menu. 
</li>
</ul>
Actions and menus added into these paths will only be 
shown while the associated editor is active. When the 
editor is closed, menus and actions will be removed.
<p></p>

<h6 class=CaptionFigColumn id=header>Supplied Implementation: </h6>The workbench provides a "Default Text Editor". The end user product may contain other editors as part of the shipping bundle. In that case, editors will be registered as extensions using the syntax described above.
<p></p>

<br>
<p class=note id=copyright>
Copyright (c) 2002, 2004 IBM Corporation and others.<br>
All rights reserved. This program and the accompanying materials are made 
available under the terms of the Common Public License v1.0 which 
accompanies 
this distribution, and is available at 
<a 
href="http://www.eclipse.org/legal/cpl-v10.html">http://www.eclipse.org/legal/cpl-v10.html</a>
<p></p>

</p>
</BODY>
</HTML>
