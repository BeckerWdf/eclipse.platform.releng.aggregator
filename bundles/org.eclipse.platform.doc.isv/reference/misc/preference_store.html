<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><HTML>
<head>
<meta http-equiv=Content-Type content="text/html; charset=iso-8859-1">
<link REL="STYLESHEET" HREF="../../book.css" CHARSET="ISO-8859-1" TYPE="text/css">
<title>JFace preference stores</title>
</head>
<BODY BGCOLOR="#ffffff">
<h1>JFace Preference Stores</h1>
<p>As of release 3.1 the org.eclipse.jface.preference.IPreferenceStore that is 
  returned from AbstractUIPlugin#getPreferenceStore will be an instance of org.eclipse.ui.preferences.ScopedPreferenceStore. 
  The ScopedPreferenceStore uses the new core runtime API to manage preferences. 
  In 3.0 it used the compatibility layer to interface with an instance of org.eclipse.core.runtime.Preferences.</p>
<p>In 3.1 we have disambiguated IPreferenceStore to be more specific about the 
  types of the values sent in preference changed events. The IPreferenceStore 
  from AbstractUIPlugin#getPreferenceStore has the same behavior as before - all 
  that has changed is that it has been specified more clearly.</p>
<p><strong>Typing:</strong> org.eclipse.jface.util.IPreferenceChangeListeners 
  added to an IPreferenceStore can potentially get two types of old and new values 
  - typed or String representations. Any event generated by a call to a typed 
  IPreferenceStore API (such as <code>setValue(String key, boolean value)</code> 
  will generate a typed event. However it is also possible that events will be 
  propagated from the core runtime preferences which generate an un typed event 
  (for instance on a preference import). Preference listeners need to be prepared 
  for both. Note also that typed events will not be propagating primitive types 
  so a call to <code>setValue(String key, boolean value)</code> will result in 
  an event where the oldValue and newValue are Booleans.</p>
<p><strong>putValue</strong>: IPreferenceStore.putValue(String key, String value) 
  will not generate a change event. This API is meant to be used for private preferences 
  that no listener would want to react to.</p>
<p><strong>initializeDefaultPreferences</strong>. This API was deprecated in Eclipse 
  3.0 as it is only fired if the compatibility layer was used. As most plug-ins 
  rely on AbstractUIPlugin#getPreferenceStore to get their preference store this 
  was being fired on plug-in start-up previously. If your plug-in does not access 
  the compatibility layer itself then this method may not be fired. It is recommended 
  that you create a <code>org.eclipse.core.runtime.preferences.AbstractPreferenceInitializer</code> 
  to handle your preference initialization.</p>
<p><a href="../../notices.html"><img src="../../cpy.gif" border="0" alt="Legal notices" width="324" height="14"></a></p>
</BODY></HTML>