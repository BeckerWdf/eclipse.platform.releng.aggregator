<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<meta name="copyright" content="Copyright (c) IBM Corporation and others 2006, 2008. This page is made available under license. For full details see the LEGAL in the documentation book that contains this page." >
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<meta http-equiv="Content-Style-Type" content="text/css">
<link rel="STYLESHEET" href="../../book.css" charset="ISO-8859-1" type="text/css">
<title>Incompatibilities between Eclipse 3.4 and 3.5</title>
</head>
<body>
<h1>Incompatibilities between Eclipse 3.4 and 3.5</h1>

<p>
  Eclipse changed in incompatible ways between 3.4 and 3.5 in ways that affect 
  plug-ins. The following entries describe the areas that changed and provide 
  instructions for migrating 3.4 plug-ins to 3.5. Note that you only need to look 
  here if you are experiencing problems running your 3.4 plug-in on 3.5.
</p>

<ol>
  <li><a href="#launchConfigurationLocation">ILaunchConfiguration.getLocation() can return null</a></li>
  <li><a href="#introConstants">CustomizableIntroPart no longer implements IIntroConstants</a></li>
</ol>

<hr>

<!-- ############################################## -->
<h2>1. <a name="launchConfigurationLocation">ILaunchConfiguration.getLocation() can return null</a></h2>
<p><strong>What is affected:</strong> Clients that call ILaunchConfiguration.getLocation()</p>
<p><strong>Description:</strong> In release 3.4 and earlier, ILaunchConfiguration.getLocation() was not specified 
to return <code>null</code>. Since 3.5, launch configuration infrastructure has been enhanced to support storage
on external file systems (EFS). The #getLocation() method returns a location in the local file system - however, since 
an external file system may not map to a local location, <code>null</code> can now be returned. </p>
<p><strong>Action required:</strong> Clients that call ILaunchConfiguration.getLocation() should update
code to handle a <code>null</code> result. The #getLocation() method has been deprecated since the return
value is no longer reliable.</p>

<!-- ############################################## -->

<h2>2. <a name="introConstants">CustomizableIntroPart no longer implements IIntroConstants</a></h2>
<p><strong>What is affected:</strong>Clients that reference constants from IIntroConstants via CustomizableIntroPart</p>
<p><strong>Description:</strong> In release 3.4 and earlier, CustomizableIntroPart implemented the internal class IIntroConstants. 
This had the side effect of accidentally exposing internal constants in an API class. Since Eclipse 3.5 this implements clause has been removed. </p>
<p><strong>Action required:</strong> 
Clients that reference any of these constants will see a compilation error in the source and will need to replace the reference 
to the constant with a string literal of the same value. See Bug 251472 for more information</p>

<!-- ############################################## -->

<h2>3. <a name="introConstants">IResourceChangeEvent.getResource() may return null for PRE_REFRESH events</a></h2>
<p><strong>What is affected: </strong>Clients that use IResourceChangeListeners and listen on IResourceChangeEvent#PRE_REFRESH events</p>
<p><strong>Description:</strong> In release 3.4, clients were notified with PRE_REFRESH events only during a single project
refresh. Since Eclipse 3.5, PRE_REFRESH events have been fired during every workspace refresh. For a workspace refresh 
IResourceChangeEvent.getResource() returns null. To determine the scope of the refresh (a project or the workspace), 
IResourceChangeEvent.getSource() should be used.</p>
<p><strong>Action required:</strong> 
Clients that listens on PRE_REFRESH events should use IResourceChangeEvent.getSource() instead of
IResourceChangeEvent.getResource() to determine the scope of the refresh. See Bug 255325 for more information.</p>

</body>
</html>
