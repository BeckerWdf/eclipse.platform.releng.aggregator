<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="../book.css" CHARSET="ISO-8859-1" TYPE="text/css">
<title>Creating a project builder Ant script</title>

</HEAD>
<BODY BGCOLOR="#ffffff">
<h4>Creating a project builder Ant script</h4>
<P CLASS="Para">To see how project builders work, we will create a simple project 
  with a single source file and an Ant script that jars up the single class file. 
  Though this example uses Java, it should be noted that project builders are 
  available for all projects, Java or otherwise.</P>
<ol>
  <li>Create a Java project named 'HW'.</li>
  <li>Create a Java source file named 'HelloWorld' with a main method.</li>
  <li>Put a single 'System.out.println()' statement in the main method, and make 
    it print a greeting of your choice.</li>
  <li>Save changes.</li>
  <li>Create a file named 'projectBuilder.xml', open the Ant editor on it, enter 
    the following content, and save changes.<br>
    <img src="../images/Image609_project_builder.jpg" width="614" height="192"> 
  </li>
  <li>In the Navigator, select the HW project and choose 'Properties' from its 
    context menu.</li>
  <li>In the project properties dialog, select 'External Tools Builders', then 
    click 'New...'.<br>
  </li>
  <li>In the 'Choose configuration type' dialog, make sure 'Ant build' is selected, 
    and click OK. </li>
  <li>The External Tools dialog appears.Set the name to 'Makejar'. In the Main 
    tab, use the first 'Browse Workspace...' button to set the Location to be 
    the projectBuilder.xml script created above. Then use the second 'Browse Workspace...' 
    button to set the Base Directory to be the HW project.<br>
    <img src="../images/Image611_et_main_tab.jpg" width="616" height="571"> </li>
  <li>In the Refresh tab, we want to be sure that when our HelloWorld.jar is created, 
    we see it in Eclipse. By default, no refreshing is done when a project builder 
    finishes running, so check 'Refresh resource after running tool', then select 
    ${project} in the list of scope variables. Because refreshing can be expensive, 
    you should in general refresh the smallest entity that contains all resources 
    that will be affected by your script. <br>
    <img src="../images/Image612_et_refresh_tab.jpg" width="612" height="467"> 
  </li>
  <li>In the Targets tab, the default target should be selected.</li>
  <li>In the Build Options tab, you can specify when this project builder is executed. 
    By default, this is set to full builds and incremental builds. Running your 
    project builder during auto builds is possible, though not recommended because 
    of performance concerns.<br>
    <img src="../images/Image610_et_options_tab.jpg" width="537" height="415"> 
  </li>
  <li>Apply the changes and click OK.</li>
  <li>Back in the project properties dialog, you will now see a project builder 
    named 'Makejar' that is set to run after the default Java Builder. Note that 
    you can change the order so that your Ant script runs before the Java builder, 
    though that wouldn't make sense in this example. Click OK to save the project 
    builder and close the dialog.<br>
    <img src="../images/Image613_project_properties.jpg" width="587" height="372"> 
  </li>
</ol>
<p>For a Java project, the default Java Builder will always be run and cannot 
  be removed. The Java Builder runs the internal Eclipse Java compiler which in 
  turn is reponsible for indexing your source so that searching, refactoring and 
  many other features are available. Thus it is not possible to replace the internal 
  Eclipse Java compiler by using a project builder. Your only option with the 
  Java Builder is when it runs with respect to the project builders that you define.</p>
<p>&nbsp;</p>
<P><a href="qs-94_run_pj.htm"> <img border="0" src="../images/ngnext.gif" alt="Next topic" width="49" height="12"> 
  Executing project builders</a></P>


<P><a href="qs-92_project_builders.htm"> <img border="0" src="../images/ngback.gif" alt="Back to previous topic" width="49" height="12"> 
  Ant scripts as project builders</a></P>


<P><br>
<a href="../hglegal2002.htm">
<img src="../images/ngibmcpy2002.gif" alt="Copyright IBM Corporation 2000, 2002. All Rights Reserved." border="0" width="324" height="14"></a>
</P>

</BODY>
</HTML>