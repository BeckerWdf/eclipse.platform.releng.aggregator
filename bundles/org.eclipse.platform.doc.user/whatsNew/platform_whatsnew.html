<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta name="copyright" content="Copyright (c) Eclipse contributors and others 2012, 2013. This page is made available under license. For full details, see the LEGAL section in the documentation that contains this page."/>
<meta http-equiv="Content-Language" content="en-us"/>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
<link rel="STYLESHEET" href="../book.css" charset="ISO-8859-1" type="text/css"/>
<style type="text/css">
table.news td {border-top: solid thin black;}
table.news tr {vertical-align: top;}
table.news tr td.section {font-size: 20px; font-weight: bold;}
table.news tr td.title {vertical-align: top; width: 30%; font-weight: bold;}
table.news tr td.content {vertical-align: top; width: 70%;}
</style>
<title>Eclipse Platform What's New in Kepler</title>
</head>

<body>
<h2>What's New in Kepler</h2>
<p>Here are descriptions of some of the more interesting or significant changes 
made to the Eclipse Platform for the Kepler (4.3) release of Eclipse.</p> <!-- All platform
features that are new since the Indigo (3.7) release are included here, including
some functionality that was available in previous technology preview releases of Eclipse Platform 4.
They are grouped into:

<ul>
<li><a href="#Platform">Platform Changes</a></li>
<li><a href="#Text">Editor Changes</a></li>
<li><a href="#TeamCVS">Team/CVS Changes</a></li>
<li><a href="#Debug">Debug Changes</a></li>
</ul>
-->

<p>
Plug-in developers will also be interested in the corresponding 
<a href="../../org.eclipse.platform.doc.isv/whatsNew/platform_isv_whatsnew.html">What's new</a>
document in the plug-in developer's guide.
</p>

<!-- ****************** START OF N&N TABLE ****************** -->
<table class="news" border="0" cellpadding="10" cellspacing="0" width="600">
  <tbody>

  <!-- ******************** Platform ********************** -->
  <tr>
    <td id="Platform" class="section" colspan="2"><h2>Platform</h2></td>
  </tr>

  <tr id="ua-lucene">
    <td class="title">Migrated to Lucene 3.5</td>
    <td class="content">
      The Eclipse platform help system has migrated from Lucene 2.9.1 to Lucene 3.5.
      This change brings improved performance and many bug fixes in help search.
      Some old help system API related to Lucene has been changed or removed as part
      of this fix. Refer to the platform 4.3 migration guide for more details.
    </td>
  </tr>
  
  <tr id="detached-sash">
    <td class="title">Detached windows with sash</td>
    <td class="content">
      When you detach a view or editor into its own separate window, it now
      has all the capabilities of a normal workbench window. They now support multiple stacks of
      views separated by sashes with arbitrary layouts. The detached parts will remain synchronized
      with the master window that they were detached from. This is especially handy for people developing
      with two or more monitors, so they can spread views across several monitors and keep them synchronized.
		<p><img src="images/detached-sash.png" alt="Detached window with multiple views separated by sash."/></p>
    </td>
  </tr>

  <tr id="trim-drag">
    <td class="title">Trim dragging</td>
    <td class="content">
      You can now drag toolbars to reposition them. 
      <p><img src="images/trim-drag.png" alt="Dragging a toolbar."/></p>
      <p>The perspective switcher can also be dragged to the left or right of the window and it will switch to a 
        vertical orientation.</p>
	  <p><img src="images/vertical-switcher.png" alt="Dragging perspective switcher to vertical orientation."/></p>
    </td>
  </tr>

  <tr id="import-nested">
    <td class="title">Import nested projects</td>
    <td class="content">
      The <b>Import Projects</b> wizard now has an option to continue searching for projects to import
      recursively within any project it finds. This allows you to import physically nested projects
      at the same time.
      <p><img src="images/import-nested.png" alt="Import nested projects."/></p>
    </td>
  </tr>

  <tr id="ant184">
    <td class="title">Platform updated to Ant 1.8.4</td>
    <td class="content">
      The platform has been updated to use Apache Ant version 1.8.4. To see what is new in version 1.8.4 you can
      check the <a href="http://apache.mirrors.tds.net//ant/README.html">Apache Ant what's new</a>.
    </td>
  </tr>
  
  <tr id="x-start-on-first-thread">
    <td class="title">Option to omit -XstartOnFirstThread</td>
    <td class="content">
      If you are launching an SWT program on Mac OS X, you can now selectively add / remove the <code>-XstartOnFirstThread</code> VM argument
      in the event your VM does not support it. This option can be configured per launch configuration and is available on the standard Arguments
      tab for Java configurations (Java Application, Eclipse, etc.).
      <p><img src="images/x-start-on-first-thread.png" alt="New VM preference allowing users to selectively add the -XstartOnFirstThread argument per-configuration"/></p>
    </td>
  </tr>
  
  <tr id="only-include-exported-entries">
    <td class="title">Global preference to include exported entries during launching</td>
    <td class="content">
      A new global preference has been added so you can only allow exported classpath entries to be used during launching. Previously, this 
      was only customizable per launch configuration on the default classpath entry on the Java Classpath tab. The new preference does not affect 
      launch configuration data, so no migration is needed.
      
      <p>
      The new preference can be found on the <b>Java &gt; Debug</b> preference page.</p>
      <p><img src="images/only-include-exported.png" alt="New global preference to only include exported classpath entries"/></p>
      
    </td>
  </tr>
  
  <tr id="launch-dialog-warnings">
    <td class="title">Launch configuration dialog can show warnings</td>
    <td class="content">
      Previously, contributors could only set an 'ok' or an 'error' state in their launch configuration tags / groups. Now,
      contributors can set a warning state with a message for their tabs / groups - possibly warning users about set options
      that might be problematic, but do not necessarily need to prevent launching.
      <p><img src="images/lcd-warnings.png" alt="Launch configuration dialog showing warning message / state"/></p>
    </td>
  </tr>
  
   <tr id="performance">
    <td class="title">Performance enhancements</td>
    <td class="content">
      Significant performance enhancements have been made in the Platform user interface in this milestone. In particular, some applications
      that were experiencing slow editor opening, closing, and switching are now much faster. Editor selection changes and the <b>Open Resource</b>
      dialog have also been made faster. A number of leaks have been addressed to avoid long-running applications don't run out of memory.
      <p><img src="images/speed.jpg" alt="Speedometer"/><br/>
	  <small>Photographer: YtseJam Photography / Creative Commons Attribution 2.0</small>
	  </p>
	</td>
  </tr>

  <tr id="gtk3">
    <td class="title">SWT for GTK3</td>
    <td class="content">
      32-bit and 64-bit GTK3 have joined the lineup of supported configurations for which SWT and Eclipse are routinely built. This implementation is currently early access. Everyone is encouraged to download and test these new builds, and to log bugs in <a href="https://bugs.eclipse.org/bugs/enter_bug.cgi?product=Platform">bugzilla</a>.
      <p>Note to load the SWT GTK3 libraries, you must set an environment variable SWT_GTK3 prior to starting Eclipse. (ex. export SWT_GTK3=1)</p>
      <p><img src="images/gtk3.png" alt="GTK3 Control Example"/></p>  
	</td>
  </tr>

  <tr id="ant-augment">
    <td class="title">Support for the Ant augment task</td>
    <td class="content">
      The Ant editor now has support for the Ant augment task. More information about the augment task can be found on the Apache help site 
      <a href="http://ant.apache.org/manual/Tasks/augment.html">here</a>. 
    </td>
  </tr>
  
   <tr id="detect-shared-install-change">
    <td class="title">Detection of shared install changes</td>
    <td class="content">
	  When Eclipse is running in a read-only folder (also known as shared install) and the read-only
	  installation has changed (e.g. new plugins installed, new version of Eclipse installed), Eclipse 
	  will now detect this change and warn that your personal additional plugins have been uninstalled.
	  In the next milestone, this warning will be replaced by a migration dialog allowing you to 
	  reinstall your plugins.
	  <p>
      <img src="images/install-modified.png" alt="Dialog warning about a modified install"/>
      </p>
    </td>
  </tr>
  
  <tr id="migrationWizard">
    <td class="title">Migration Wizard</td>
    <td class="content">
     Building on the changes introduced in M5 to detect changes in shared installs, Eclipse now includes a migration wizard to help users through the re-ininstallation of their plug-ins.
	 <p>This wizard is presented in two situations. First, when a read-only installation of Eclipse is being changed (i.e. Eclipse is being updated or plugins are added / remove), second when a new read-only installation of Eclipse is run for the first time.</p>
     <p><img src="images/migration-wizard.png" alt=""/></p>
    </td>
  </tr>
  
  <tr id="linkColor">
    <td class="title">BIDI Text Direction</td>
    <td class="content">
     New API has been added to allow text direction to be set independent of the widget orientation. For more info see <a href="http://git.eclipse.org/c/platform/eclipse.platform.swt.git/tree/examples/org.eclipse.swt.snippets/src/org/eclipse/swt/snippets/Snippet364.java">Snippet 364</a>.
     <p><img src="images/bidi.png" alt=""/></p>
    </td>
  </tr>
  
  <tr id="bidi">
    <td class="title">New SWT color constant for hyperlinks</td>
    <td class="content">
     A new constant (SWT_COLOR_LINK_FOREGROUND) has been added that will return the native color of hyperlinks on all platforms.
     <p><img src="images/linkColor.png" alt=""/></p>
    </td>
  </tr>
  
  <tr id="whole-word-option">
    <td class="title">Whole word option on File Search page</td>
    <td class="content">
     The <b>File Search</b> page now allows to search for words via a new option:
     <p><img src="images/whole-word-option.png" alt=""/></p>
    </td>
  </tr>
  
  <tr id="use-last-page-option">
    <td class="title">Open Search dialog on last used page</td>
    <td class="content">
     The Search dialog can now be configured to open on the last used page, instead of computing the best matching page based on the current selection:
     <p><img src="images/use-last-page-option.png" alt=""/></p>
    </td>
  </tr>
 
 <tr id="e4-api">
    <td class="title">Initial Eclipse 4 API released</td>
    <td class="content">
      As was announced at EclipseCon this year, the first set of official API based on the new Eclipse 
      Platform 4 architecture is now available. This is the first step in allowing developers to use the 
      new simpler and more powerful mechanisms to build Eclipse plug-ins and applications.
    <p>
      This API is comprised of two basic concepts:
    </p><p>
      <b>The user interface model</b>: The content of this model describes the structure of the user interface.
      The Eclipse Platform reacts to changes in this model by updating the presentation, and the complete
      model is now available through the new API.
    </p><p>
      Note that the model represents everything on the screen and these elements can be modified
      by your code (see the example below).
    </p><p>
      <b>IEclipseContext / Dependency Injection (DI)</b>: Contexts are containers of UI runtime state
      including all the available services. The typical Eclipse Platform 4 pattern is that contributions
      are created and configured through dependency injection based on state and services found in the local
      context for that model element.
    </p><p>
      Here are a few links to more information about the UI Model, the services and DI (the Javadoc and supporting
      Eclipse documentation will be available before Kepler is released):
    </p>
    <ul>
      <li><a href="http://www.eclipsecon.org/2013/sites/eclipsecon.org.2013/files/FormalAPI.pdf">EclipseCon 2013 API Slides</a></li>
      <li><a href="http://www.vogella.com/articles/EclipseRCP/article.html">Lars' RCP Tutorial</a></li>
      <li><a href="http://www.vogella.com/articles/Eclipse4Services/article.html">Lars' Services Tutorial</a></li>
      <li><a href="http://eclipsesource.com/blogs/2013/04/18/eclipse-4-e4-tutorial-behavior-annotations/">Jonas Helming's DI Tutorials</a></li>
    </ul>
    <p>
      There is quite a lot of information already available for Eclipse Platform 4. While parts of the API are just being
      formalized now, most of the concepts and API existed in provisional form in previous Eclipse 4 releases.
    </p><p>
      Just to give a taste of what working in a modeled UI is all about, here's a code snippet showing
      how to get a 'standard' Command handler to toggle the visibility of the 'Quick Access' text field
      that appears in the top trim. First we gain access to the model by getting the MApplication as a
      'service'. Form there we can access the EModelService and use it to find the model element
      representing the search in the UI. Then it's just a simple matter of toggling the element's
      'toBeRendered' flag to get it to (dis)appear.
    </p>
    <pre>
public Object execute(ExecutionEvent event) throws ExecutionException {
  IWorkbenchWindow window = HandlerUtil.getActiveWorkbenchWindowChecked(event);		
  MApplication theApp = (MApplication) window.getService(MApplication.class);
  MWindow activeWin = theApp.getSelectedElement();
  EModelService ms = activeWin.getContext().get(EModelService.class);
  EPartService ps = activeWin.getContext().get(EPartService.class);
  MToolControl search = (MToolControl) ms.find("SearchField", activeWin);
  if (search != null) {
    search.setToBeRendered(!search.isToBeRendered());
    window.getShell().layout(true, true);
  }
  return null;
}
      </pre>
    </td>
  </tr>

  <tr id="xulrunner64">
    <td class="title">XULRunner on 64-bit Windows</td>
    <td class="content">The browser widget now supports the embedding of XULRunner on Windows x86_64.</td>
  </tr> 

  <tr id="open-resource-buttons">
    <td class="title">Open Resource dialog enhancements</td>
    <td class="content">
      The <b>Open Resource</b> (<b>Ctrl+Shift+R</b>) dialog now offers direct access to the
      <b>Show In</b> and <b>Open With</b> menus via drop-down buttons. On platforms that
      support mnemonics, the buttons are also accessible via <b>Alt+W</b> and <b>Alt+H</b>.
      <p><img src="images/open-resource-buttons.png" alt=""/></p>
    </td>
  </tr>
  
  <tr id="remediation"> 
    <td class="title">Installation Remediation</td>
    <td class="content">
	 In order to help you deal with dependency errors while installing software, the various installation wizards now contain 
	 a new wizard page. This page, called <b>remediation</b>, proposes various solutions in order to help you proceed 
	 with the installation, even when the exact change you requested is not possible.
	 <p>
	 The picture below shows a screenshot of this page in action. In this particular case the user is trying to install something
	 that is conflicting with what is installed, and the wizard gives the option to update what is installed so that the installation
	 can proceed.
	 </p>
     <p><img src="images/remediation.png" alt=""/></p>
    </td>
  </tr>
 
 <!-- 
 <tr>
    <td id="Platform" class="section" colspan="2"><h2>Platform Changes</h2></td>
  </tr>
  -->
  

  <!-- ******************** Text ********************** -->
  <!--
  <tr>
    <td id="Text" class="section" colspan="2"><h2>Editor Changes</h2></td>
  </tr>
  -->

  

  <!-- ******************* Team/CVS ******************** -->
  <!-- 
  <tr>
    <td id="TeamCVS" class="section" colspan="2"><h2>Team/CVS Changes</h2></td>
  </tr>
  -->

  

  <!-- ******************** Debug ********************* -->
  <!-- 
  <tr>
    <td id="Debug" class="section" colspan="2"><h2>Debug Changes</h2></td>
  </tr> 
  -->


  <!-- ****************** END OF N&N TABLE ****************** -->
</tbody>
</table>
</body>
</html>
