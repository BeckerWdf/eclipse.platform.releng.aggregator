<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
<LINK REL="STYLESHEET" HREF="../book.css" CHARSET="ISO-8859-1" TYPE="text/css">
<title>Working with patches</title>
</HEAD>

<BODY BGCOLOR="#ffffff">
<H1>Working with patches</H1>

<p>Patches allow developers to share work without storing it in a repository. 
  This is helpful when a developer wants to contribute to a project that is shared 
  through a repository but does not have write access to the repository. In this 
  situation, the developer can create a patch and either e-mail it to a developer 
  who does have write access or attach it to a bug in the bug reporting system 
  used by the project, depending on the process defined by the project. A developer 
  that does have write access can then apply the patch to the project and commit 
  the changes.</p>
<p>To create a patch from a CVS project:</p>
<ol>
  <li>Select the resource that contains the modifications to be included in the 
    patch. Although this can be any folder, it is easiest to select the project 
    itself because the patch must be applied to the same resource it is generated 
    from. The patch should also be applied to the same file revisions that it 
    is generated on so steps should be taken to ensure that the patch is applied 
    to the same resource line-up (the easiest way to do this is to create the 
    patch on top of a version).</li>
  <li>From the popup menu, select <b>Team &gt; Create Patch...</b>. The Create 
    Patch wizard will open.</li>
  <li>Choose where the patch should be saved: 
    <ol type="a">
      <li><i>Save to Clipboard</i> - this will place the patch on the clipboard 
        so it can be pasted into a text editor such as an e-mail program.</li>
      <li><i>Save to File System</i> - this will place the patch in the specified 
        file in the local file system</li>
      <li><i>Save in Workspace</i> - this will place the patch in the specified 
        file inside one of the existing workbench projects.</li>
    </ol>
    For small patches it may be reasonable to transfer the patch using the clipboard 
    but in most cases the local file system in the best option to use. Click <b>Next</b> 
    to configure how the patch is generated.</li>
  <li>Choose how to configure the patch:
    <ol type="a">
      <li><i>Recurse into sub-folders</i> - If disabled, only the direct children 
        of the selection are included in the patch. Otherwise, all desendants 
        are included.</li>
      <li><i>Include new files in patch</i> - If disabled, only files that are 
        under CVS version control are included. Otherwise, files that have been 
        newly created but not added or ignored will also be included.</li>
      <li><i>Diff output format</i> - Allows the choice of several comon diff 
        output formats. <i>Unified</i> is the format used by many patch application 
        tools including Eclipse.</li>
    </ol>
  </li>
  <li>Click <b>Finish</b>. </li>
  <li>Transfer the patch as appropriate for the project being patched.</li>
</ol>
<p>To apply a patch:</p>
<ol>
  <li>Select the resource that the patch was generated on. This resource should 
    contain the same file revisions as the line-up on which the patch was generated.</li>
  <li>From the popup menu, select <b>Compare with &gt; Patch...</b>. The Resource 
    Patcher wizard will open.</li>
  <li>Indicate where the patch is to be found:
    <ol type="a">
      <li><i>File</i> - the patch is in a file on the local file system. Either 
        type in the full path to the file or use the <b>Browse...</b> button to 
        find the file.</li>
      <li><i>Clipboard</i> - the patch is on the clipboard. <b>Warning:</b> It 
        is safer to use a file based patch. Line endings may not be handled properly 
        if the clipboard is used and the patch was generated on a diffferent platform 
        (i.e. Linux vs. Windows).</li>
    </ol>
  Click <b>Next</b> to see the effect of applying the patch.</li>
  <li>In this page you can view the effects of each part of the patch. Certain 
    parts can be excluded by unchecking them. <b>Warning:</b> if certain parts 
    of the patch are initially unchecked, it is possible that the patch is not 
    well formed or that the revison of one or more files that the patch were generated 
    on do not match the revisions that the patch is being applied to.</li>
  <li>If all is well, click <b>Finish</b> to apply the patch. The workspace will 
    now contain outgoing changes for each file modified by the patch.</li>
</ol>

<p><img border="0" src="../images/ngrelc.gif" alt="Related concepts" width="159" height="27"><br>
<a href="../concepts/concepts-26.htm">Team programming with CVS</a><br>
</p>

<p><img border="0" src="../images/ngrelt.gif" alt="Related tasks" width="159" height="27"><br>
<a href="tasks-68.htm">Comparing resources</a>
</p>


<p><img border="0" src="../images/ngrelr.gif" alt="Related reference" width="159" height="27"><br>
<a href="../reference/ref-47.htm">CVS</a>
</p>

<p>&nbsp;<br>
<a href="../hglegal2002.htm"><img src = "../images/ngibmcpy2002.gif" alt="Copyright IBM Corporation and others 2000, 2002" border="0"></a>
</p>

</BODY>
</HTML>
