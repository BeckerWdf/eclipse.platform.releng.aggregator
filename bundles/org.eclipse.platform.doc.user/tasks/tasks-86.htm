<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN"><HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="../book.css" CHARSET="ISO-8859-1" TYPE="text/css">
<title>Using a different version of Ant</title>
<meta name="keyword" content="ant">
</HEAD>
<BODY BGCOLOR="#ffffff">
<H1 CLASS="Head">
Using a different version of Ant</H1>
<P CLASS="Para">
The Eclipse Platform provides Ant 1.4.1 as a plug-in library. When running an Ant script in the workbench,
1.4.1 is the version used by default. It is possible to use different versions although they are not supported.
There are at least two ways of using a different version of Ant:
</P>

<ol>
  <li>
<p CLASS="Para">Changing the Ant classpath</p>
  </li>
<br><p CLASS="Para">When running an Ant script all classes needed are taken from the Ant classpath.
The Ant classpath consists of the plug-ins contributing new tasks, types or libraries plus the classpath defined
in the external tools preferences page. The preferences page can be accessed through the menu
<b>Window > Preferences > External Tools > Ant</b>. The two JARs related to Ant 1.4.1 are <b>ant.jar</b>
and <b>jakarta-ant-1.4.1-optional.jar</b>. Removing these JARs and adding the ones from the desired version
of Ant should be enough. </p>
<p CLASS="Para">After changing the Ant JARs through the Ant classpath preference, all future Ant scripts
runs will use the updated version instead of the default.
The <b>Restore Defaults</b> button restores the Ant classpath to its original state.</p>
<br>
  <li>
<p CLASS="Para">Using Ant as an external tool</p>
  </li>
<br><p CLASS="Para">When changing the Ant classpath is not an option or when just curious about testing a
newer version or beta version of Ant, using it as an external tool can be a better solution. Usually when running an Ant script
in the workbench, the Ant script itself is considered to be a external tool but it is not the only way. The following
steps illustrate how to install a binary distribution of Ant  as an external tool. The steps are using Windows as the OS but
it can be easily ported to other Operating Systems:</p>
<ul>
  <li><p CLASS="Para">Download and install the binary version of Ant from
  <a href="http://jakarta.apache.org/ant">http://jakarta.apache.org/ant</a> .</p>
  </li>
  <li><p CLASS="Para">Go to the menu <b>Run &gt; External Tools &gt; Configure</b>.</p>
  </li>
  <li><p CLASS="Para">Click on the <b>New</b> button.</p>
  </li>
  <li><p CLASS="Para">Enter a name for your external tool (e.g. External Ant).</p>
  </li>
  <li><p CLASS="Para">Click on the <b>Browse File System</b> button.</p>
  </li>
  <li><p CLASS="Para">Find and select a file called <b>ant.bat</b> (it should be 
  in the bin folder of your Ant installation).</p>
  </li>
  <li><p CLASS="Para">In the <b>Tool Arguments</b> field enter a arguments for your 
  script like you would normally enter for running the script outside of the 
  workbench.</p>
  </li>
  <li><p CLASS="Para">In the <b>Working directory</b> field enter the directory of your 
  script.</p>
  </li>
  <li><p CLASS="Para">To run the script go to the menu <b>Run &gt; External Tools &gt; 
  External Ant</b> .</p>
  </li>
</ul>
<p CLASS="Para">When running Ant as an external tool none of the tasks or types 
contributed by Eclipse will work. Also, the Ant classpath preference has no 
effect in the script execution.</p>
  </ol>

<P><img border="0" src="../images/ngrelc.gif" alt="Related concepts" width="159" height="27"><br>
<a href="../concepts/cantsup.htm">Ant support</a><br>
<a href="../concepts/cexttools.htm">External tools</a><br>
</P>

<img border="0" src="../images/ngrelt.gif" alt="Related tasks" width="159" height="27"><br>
<a href="./tasks-89.htm">Running Ant scripts</a><br>
<a href="../tasks/tasks-90.htm">Running external tools</a><br>
<a href="../tasks/tasks-85.htm">Expanding the Ant classpath</a><br>
</P>

<p>&nbsp;<br>
<a href="../hglegal2002.htm">
<img src = "../images/ngibmcpy2002.gif" alt="Copyright IBM Corporation and others 2000, 2002" border="0" width="324" height="14"></a>
</p>

</BODY>
</HTML>