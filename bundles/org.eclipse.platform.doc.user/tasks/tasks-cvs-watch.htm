<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><HTML>
<HEAD>
<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=ISO-8859-1">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="../book.css" CHARSET="ISO-8859-1" TYPE="text/css">
<title>Using CVS Watches</title>
<meta name="keyword" content="team">
</HEAD>
<BODY BGCOLOR="#ffffff">
<H1 CLASS="Head"> Using CVS Watches </H1>
<P CLASS="Para">CVS provides a notification scheme which allows you to know if 
  someone is modifying a file that you care about. This facility is known as <em>watches</em>. 
  By setting a <em>watch</em> on a file, you can have CVS notify you via email 
  (or other) if someone else starts to <em>edit</em> this file. </P>
<p class="Para">There are two parts to CVS watches: <em>watch</em>, and <em>edit</em>. 
  The first, <em>watch</em>, is how you specify which files you wish to be nofitied 
  about. The second, <em>edit</em>, is how you inform the CVS server (and thus 
  others) that you are about to modify a file. To be specific, only the <em>edit</em> 
  portion is supported natively by Team CVS; the configuring of the email address 
  for notification and the setting of watch lists must first be done by the CVS 
  administrator and via the command line respectively. This is because these are 
  administrative tasks, the first of which cannot be supported by the client, 
  and the second of which is infrequently performed.</p>
<h3 class="Para">Setting up Watches</h3>
<p class="Para">To use watches you or your CVS administrator must first do the 
  following: </p>
<ol>
  <li>First, you will need to modify the CVSROOT/notify file. You should consult 
    the CVS documentation for watches for details on how to configure this file. 
  </li>
  <li>Next, you will need to perform a command line &quot;cvs watch add &lt;filename&gt;&quot; 
    for each file that you wish to watch.</li>
</ol>
<h3>Setting up a Project for Watch/Edit</h3>
<p>Watches and editing are optional in CVS. To use this facility, you must turn 
  on this option in the <strong>Team &gt; CVS &gt; Watch/Edit</strong> preferences 
  page. Select &quot;Configure projects to use Watch/Edit on checkout&quot;, accept 
  the preference dialog, and then checkout your project. All the files in the 
  project will be checked out read-only. This tells the CVS client which files 
  are being edited by you and which aren't (writeable files are being edited).</p>
<h3>Editing</h3>
<p>Watches simply give you email notification that someone is editing the file. 
  Even if you do not have watch lists configured, <em>edit</em> is still of use 
  because it will tell you if someone else is editing the file as you go to edit 
  it. Thus edit, without watches, is a viable (and not uncommon) way of working.</p>
<p class="Para"></p>
<p>Although typical CVS clients require you to perform an explicit edit, Team 
  CVS automatically issues an edit as soon as you start to modify a file. This 
  support is built deep into Eclipse, so typing in a text editor, performing Java 
  refactoring, etc., will all issue a CVS edit for you. You can also perform an 
  explit edit via the <strong>Team &gt; Edit</strong> context menu on a resource. 
  If your preferred work style is to always explicitly issue CVS edits, you can 
  turn off the automatic issuing of edits via the preference &quot;Edit the file 
  without informing the server&quot; on the <strong>Team &gt; CVS &gt; Watch/Edit</strong> 
  preferences page.</p>
<p>When an edit is issued, everyone who is watching that file will be notified 
  by the CVS server. In addition, if someone is already editing that file, you 
  will be informed immediately that you are not the only editor. You can see the 
  list of editors on a file at any time by selecting <strong>Team &gt; Show Editors</strong> 
  from the context menu of that file.</p>
<h3>Unediting</h3>
<p>Just as you can tell CVS that you are editing a file, there also needs to be 
  a way of telling CVS that you are no longer editing that file. This is referred 
  to as <em>unedit</em>. This way, if someone checks the editors list for a file 
  they can know if someone else is still working on that file. This happens in 
  one of two ways:</p>
<ul>
  <li>When you commit an edited file, an unedit is automatically issued.</li>
  <li>If you discover that you want to back out of the changes to a file, you 
    can explicit unedit the file. In addition to notifying the server, an explicit 
    unedit will revert the file to its base (ie. the workspace will then contain 
    the copy of the file before you started modifying it).</li>
</ul>
<p>&nbsp;</p>
<p><img border="0" src="../images/ngrelc.gif" alt="Related concepts" width="159" height="27"> 
  <br>
  <a href="../concepts/concepts-cvs-watch.htm">CVS Watches</a></p>
<p><a href="../concepts/concepts-26.htm">Team programming with CVS</a> </p>
<p><img border="0" src="../images/ngrelr.gif" alt="Related reference" width="159" height="27"> 
  <br>
  <a href="../reference/ref-47.htm">CVS</a> </p>

<p>&nbsp;<br>
<a href="../hglegal2002.htm"><img src = "../images/ngibmcpy2002.gif" alt="Copyright IBM Corporation and others 2000, 2002" border="0"></a>
</p>

</BODY>
</HTML>